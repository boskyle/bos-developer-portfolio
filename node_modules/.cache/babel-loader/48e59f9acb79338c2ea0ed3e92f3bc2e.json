{"ast":null,"code":"import _regeneratorRuntime from\"/srv/http/boskyle.com/public_html/projects/bos-developer-portfolio/bos-developer-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/srv/http/boskyle.com/public_html/projects/bos-developer-portfolio/bos-developer-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/srv/http/boskyle.com/public_html/projects/bos-developer-portfolio/bos-developer-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Modal from'react-modal';import{useForm}from'react-hook-form';import'./email-modal.css';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmailModal=function EmailModal(_ref){var _errors$message;var isOpen=_ref.isOpen,setIsOpen=_ref.setIsOpen;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),charCounter=_useState2[0],setCount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),charCounterFlag=_useState4[0],setFlag=_useState4[1];var EmailModalExit=function EmailModalExit(){setIsOpen(false);};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(fd){var sendEmailUrl;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:sendEmailUrl='https://boskyle.me/php-endpoints/send-email.php';console.log(fd);_context.next=4;return fetch(sendEmailUrl,{method:'POST',headers:{'accept':'application/json','content-Type':'application/json'},body:JSON.stringify({email:fd.email,subject:fd.subject,message:fd.message})}).then(function(response){return response.text();}).then(function(response){console.log(response);toast.success(\"I got your message, I'll reach out as soon as I can.\");setCount(0);setIsOpen(false);}).catch(function(err){return console.log(err);});case 4:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){if(charCounter>200){setFlag(true);}else setFlag(false);},[charCounter]);return/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,className:\"container-email-form\",overlayClassName:\"lg-overlay\",ariaHideApp:false,onRequestClose:EmailModalExit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-wrapper\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"\",children:\"send me an electronic message.\"}),/*#__PURE__*/_jsx(\"small\",{onClick:EmailModalExit,children:\"EXIT\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"email-form w-100 h-100 p-3\",onSubmit:handleSubmit(onSubmit),noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-item d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sender-email\",children:\"Your Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",placeholder:\"johnsmith@gmail.com\",name:\"email\",type:\"email\",\"aria-describedby\":\"emailInput\",ref:register({required:{value:true,message:\"Email required.\"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,message:\"Not a valid email address.\"}})}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"form-err\",children:errors.email.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"sender-email\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",placeholder:\"Inquiry..\",name:\"subject\",type:\"text\",ref:register({required:false})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-item d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"message \",/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{className:charCounterFlag?\"message-exceeded\":\"message-not-exceeded\",children:charCounter}),\"/200\"]})]}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control w-100 mt-1 h-50\",placeholder:\"Hello World!\",onChange:function onChange(e){return setCount(e.target.value.length);},name:\"message\",type:\"text\",ref:register({required:{value:true,message:\"Message required.\"},maxLength:200})}),errors.message&&/*#__PURE__*/_jsx(\"span\",{className:\"form-err\",children:errors.message.message}),/*#__PURE__*/_jsx(\"span\",{className:\"form-err\",children:((_errors$message=errors.message)===null||_errors$message===void 0?void 0:_errors$message.type)===\"maxLength\"&&\"Message too long..\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mt-5\",children:\"SEND\"})]})]})]})});};export default EmailModal;","map":{"version":3,"sources":["/srv/http/boskyle.com/public_html/projects/bos-developer-portfolio/bos-developer-portfolio/src/components/Nav/EmailModal/EmailModal.js"],"names":["React","useState","useEffect","Modal","useForm","ToastContainer","toast","EmailModal","isOpen","setIsOpen","register","handleSubmit","errors","charCounter","setCount","charCounterFlag","setFlag","EmailModalExit","onSubmit","fd","sendEmailUrl","console","log","fetch","method","headers","body","JSON","stringify","email","subject","message","then","response","text","success","catch","err","required","value","pattern","e","target","length","maxLength","type"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport Modal from 'react-modal';\nimport {useForm} from 'react-hook-form';\n\nimport './email-modal.css';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nconst EmailModal = ({isOpen,setIsOpen}) => {\n\n\n    const {register, handleSubmit, errors} = useForm();\n    const [charCounter, setCount] = useState(0);\n    const [charCounterFlag,setFlag] = useState(false);\n  \n\n    const EmailModalExit= () => {\n        setIsOpen(false);\n    }\n\n    const onSubmit = async fd => {\n  \n        let sendEmailUrl = 'https://boskyle.me/php-endpoints/send-email.php';\n        console.log(fd);\n\n        await fetch (sendEmailUrl,{\n        method: 'POST',\n        headers: {\n            'accept': 'application/json',\n            'content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            email: fd.email,\n            subject: fd.subject,\n            message: fd.message\n        })\n     }).then(response => response.text())\n            .then(response => {\n                console.log(response);\n                    toast.success(\"I got your message, I'll reach out as soon as I can.\");\n                    setCount(0);\n                    setIsOpen(false);\n            })\n                .catch(err => console.log(err))\n\n     \n    }\n\n\n    useEffect(() => {\n        if (charCounter > 200) {\n            setFlag(true);\n        } else setFlag (false);\n       \n    },[charCounter])\n\n  \n\n\n   \n    return<Modal isOpen={isOpen} className=\"container-email-form\" overlayClassName=\"lg-overlay\" ariaHideApp={false} onRequestClose={EmailModalExit}> \n   \n    <div className=\"form-wrapper\">\n    \n    <h2 className=\"\">send me an electronic message.</h2>\n    <small onClick={EmailModalExit}>EXIT</small>\n\n    <form className=\"email-form w-100 h-100 p-3\" onSubmit={handleSubmit(onSubmit)} noValidate>\n        <div className=\"form-item d-flex flex-column\">\n            <div className=\"form-group\">\n            <label htmlFor=\"sender-email\">Your Email</label>\n            <input className=\"form-control\" placeholder=\"johnsmith@gmail.com\"\n            name=\"email\"\n            type=\"email\"\n            aria-describedby=\"emailInput\"\n            ref={register({\n                required: {\n                    value: true,\n                    message: \"Email required.\"\n                },\n                pattern: {\n                    value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\n                    message: \"Not a valid email address.\",\n                }\n              })}\n            />\n            {errors.email && <span className=\"form-err\">{errors.email.message}</span>}   \n            </div>\n            <div className=\"form-group\">\n            <label htmlFor=\"sender-email\">Subject</label>\n            <input className=\"form-control\" placeholder=\"Inquiry..\"\n            name=\"subject\" \n            type=\"text\"\n            ref={register({\n                required: false\n            })}\n            \n            />\n            </div>\n          \n        </div>\n\n<div className=\"form-item d-flex flex-column\"><h4>message <span><span className={charCounterFlag ? \"message-exceeded\" : \"message-not-exceeded\"}>{charCounter}</span>/200</span></h4>\n        <textarea className=\"form-control w-100 mt-1 h-50\" placeholder=\"Hello World!\"\n        onChange={e => setCount(e.target.value.length)}\n        name=\"message\"\n        type=\"text\"\n        ref={register({\n            required: {\n                value: true,\n                message: \"Message required.\"\n            },\n          maxLength: 200\n        })}\n        />\n         {errors.message && <span className=\"form-err\">{errors.message.message}</span>}\n            <span className=\"form-err\">{errors.message?.type === \"maxLength\" && \"Message too long..\"}</span>\n          <button type=\"submit\" className=\"mt-5\">SEND</button>\n        </div>\n\n    </form>\n    </div>\n    \n    </Modal>\n}\n\nexport default EmailModal;"]},"metadata":{},"sourceType":"module"}